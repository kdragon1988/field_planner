# 工程08: アセット管理・パレット

## 目的・概要

イベント会場で使用するアセット（テント、ステージ、バリケード等）の管理機能を実装する。内蔵アセットの提供、アセットパレットUI、カテゴリ分類、検索、お気に入り機能を構築する。

## 対応する機能要件

- FR-30: アセットフォルダ（内蔵）からの読み込み
- FR-31: アセットパレット（カテゴリ/検索/お気に入り）

## 実装タスク詳細

### 1. アセットデータモデル

```dart
// lib/data/models/asset.dart

import 'package:freezed_annotation/freezed_annotation.dart';

part 'asset.freezed.dart';
part 'asset.g.dart';

/// アセットカテゴリ
enum AssetCategory {
  tent('テント', 'tent', Icons.house),
  stage('ステージ', 'stage', Icons.speaker),
  barrier('バリケード・柵', 'barrier', Icons.fence),
  table('テーブル', 'table', Icons.table_bar),
  chair('椅子', 'chair', Icons.chair),
  lighting('照明', 'lighting', Icons.light),
  sign('看板・サイン', 'sign', Icons.signpost),
  vehicle('車両', 'vehicle', Icons.local_shipping),
  equipment('設備', 'equipment', Icons.build),
  decoration('装飾', 'decoration', Icons.celebration),
  other('その他', 'other', Icons.category);

  final String displayName;
  final String id;
  final IconData icon;
  const AssetCategory(this.displayName, this.id, this.icon);
}

/// アセット定義
@freezed
class Asset with _$Asset {
  const factory Asset({
    /// 一意識別子
    required String id,
    
    /// アセット名
    required String name,
    
    /// 説明
    String? description,
    
    /// カテゴリ
    required AssetCategory category,
    
    /// 3Dモデルパス（相対パス）
    required String modelPath,
    
    /// サムネイル画像パス
    String? thumbnailPath,
    
    /// 実寸サイズ（メートル）
    required AssetDimensions dimensions,
    
    /// デフォルトスケール
    @Default(1.0) double defaultScale,
    
    /// タグ
    @Default([]) List<String> tags,
    
    /// 内蔵アセットかどうか
    @Default(true) bool isBuiltIn,
    
    /// お気に入りフラグ
    @Default(false) bool isFavorite,
    
    /// 使用回数（履歴用）
    @Default(0) int usageCount,
    
    /// メタ情報
    Map<String, dynamic>? metadata,
  }) = _Asset;

  factory Asset.fromJson(Map<String, dynamic> json) => _$AssetFromJson(json);
}

/// アセット寸法
@freezed
class AssetDimensions with _$AssetDimensions {
  const factory AssetDimensions({
    /// 幅（X軸、メートル）
    required double width,
    
    /// 奥行（Y軸、メートル）
    required double depth,
    
    /// 高さ（Z軸、メートル）
    required double height,
  }) = _AssetDimensions;

  factory AssetDimensions.fromJson(Map<String, dynamic> json) => 
      _$AssetDimensionsFromJson(json);
  
  /// 床面積（平方メートル）
  double get floorArea => width * depth;
  
  /// 体積（立方メートル）
  double get volume => width * depth * height;
}

/// アセットバリエーション（色違い等）
@freezed
class AssetVariant with _$AssetVariant {
  const factory AssetVariant({
    required String id,
    required String name,
    String? modelPath,
    String? thumbnailPath,
    String? colorHex,
  }) = _AssetVariant;

  factory AssetVariant.fromJson(Map<String, dynamic> json) => 
      _$AssetVariantFromJson(json);
}
```

### 2. assets_manifest.json スキーマ

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "マニフェストバージョン"
    },
    "assets": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "name", "category", "modelPath", "dimensions"],
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "description": { "type": "string" },
          "category": { 
            "type": "string",
            "enum": ["tent", "stage", "barrier", "table", "chair", 
                     "lighting", "sign", "vehicle", "equipment", 
                     "decoration", "other"]
          },
          "modelPath": { "type": "string" },
          "thumbnailPath": { "type": "string" },
          "dimensions": {
            "type": "object",
            "properties": {
              "width": { "type": "number" },
              "depth": { "type": "number" },
              "height": { "type": "number" }
            }
          },
          "defaultScale": { "type": "number" },
          "tags": {
            "type": "array",
            "items": { "type": "string" }
          },
          "variants": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string" },
                "name": { "type": "string" },
                "colorHex": { "type": "string" }
              }
            }
          }
        }
      }
    }
  }
}
```

### 3. 内蔵アセット一覧（例）

```json
// assets/models/assets_manifest.json

{
  "version": "1.0.0",
  "assets": [
    {
      "id": "tent_3x3",
      "name": "テント 3x3m",
      "description": "標準的なイベント用テント",
      "category": "tent",
      "modelPath": "models/tent_3x3.glb",
      "thumbnailPath": "thumbnails/tent_3x3.png",
      "dimensions": { "width": 3, "depth": 3, "height": 2.5 },
      "tags": ["テント", "屋根", "3m"]
    },
    {
      "id": "tent_6x3",
      "name": "テント 6x3m",
      "description": "大型イベント用テント",
      "category": "tent",
      "modelPath": "models/tent_6x3.glb",
      "thumbnailPath": "thumbnails/tent_6x3.png",
      "dimensions": { "width": 6, "depth": 3, "height": 2.5 },
      "tags": ["テント", "屋根", "6m", "大型"]
    },
    {
      "id": "stage_small",
      "name": "ステージ 小",
      "description": "小規模イベント用ステージ",
      "category": "stage",
      "modelPath": "models/stage_small.glb",
      "thumbnailPath": "thumbnails/stage_small.png",
      "dimensions": { "width": 4, "depth": 3, "height": 0.6 },
      "tags": ["ステージ", "舞台"]
    },
    {
      "id": "barrier_plastic",
      "name": "プラスチックバリケード",
      "description": "イベント用プラスチック製バリケード",
      "category": "barrier",
      "modelPath": "models/barrier_plastic.glb",
      "thumbnailPath": "thumbnails/barrier_plastic.png",
      "dimensions": { "width": 2, "depth": 0.5, "height": 1 },
      "tags": ["バリケード", "柵", "プラスチック"]
    },
    {
      "id": "barrier_fence",
      "name": "フェンス",
      "description": "金属製仮設フェンス",
      "category": "barrier",
      "modelPath": "models/barrier_fence.glb",
      "thumbnailPath": "thumbnails/barrier_fence.png",
      "dimensions": { "width": 2, "depth": 0.1, "height": 1.2 },
      "tags": ["フェンス", "柵", "金属"]
    },
    {
      "id": "table_folding",
      "name": "折りたたみテーブル",
      "description": "180cm折りたたみテーブル",
      "category": "table",
      "modelPath": "models/table_folding.glb",
      "thumbnailPath": "thumbnails/table_folding.png",
      "dimensions": { "width": 1.8, "depth": 0.6, "height": 0.74 },
      "tags": ["テーブル", "机", "折りたたみ"]
    },
    {
      "id": "chair_pipe",
      "name": "パイプ椅子",
      "description": "標準的なパイプ椅子",
      "category": "chair",
      "modelPath": "models/chair_pipe.glb",
      "thumbnailPath": "thumbnails/chair_pipe.png",
      "dimensions": { "width": 0.45, "depth": 0.45, "height": 0.8 },
      "tags": ["椅子", "パイプ椅子"]
    },
    {
      "id": "cone_traffic",
      "name": "カラーコーン",
      "description": "交通整理用カラーコーン",
      "category": "barrier",
      "modelPath": "models/cone_traffic.glb",
      "thumbnailPath": "thumbnails/cone_traffic.png",
      "dimensions": { "width": 0.35, "depth": 0.35, "height": 0.7 },
      "tags": ["コーン", "カラーコーン", "交通整理"]
    },
    {
      "id": "generator",
      "name": "発電機",
      "description": "可搬型発電機",
      "category": "equipment",
      "modelPath": "models/generator.glb",
      "thumbnailPath": "thumbnails/generator.png",
      "dimensions": { "width": 0.7, "depth": 0.5, "height": 0.6 },
      "tags": ["発電機", "電源", "設備"]
    },
    {
      "id": "sign_arrow",
      "name": "矢印看板",
      "description": "誘導用矢印看板",
      "category": "sign",
      "modelPath": "models/sign_arrow.glb",
      "thumbnailPath": "thumbnails/sign_arrow.png",
      "dimensions": { "width": 0.6, "depth": 0.3, "height": 1.2 },
      "tags": ["看板", "矢印", "誘導"]
    }
  ]
}
```

### 4. アセットリポジトリ

```dart
// lib/data/repositories/asset_repository.dart

import 'dart:convert';
import 'package:flutter/services.dart';

/// アセットリポジトリ
/// 
/// 内蔵アセットおよびユーザーアセットの管理
class AssetRepository {
  static const String _manifestPath = 'assets/models/assets_manifest.json';
  static const String _userFavoritesKey = 'asset_favorites';
  static const String _userUsageKey = 'asset_usage';
  
  List<Asset>? _cachedAssets;
  final SharedPreferences _prefs;

  AssetRepository(this._prefs);

  /// 全アセットを取得
  Future<List<Asset>> getAllAssets() async {
    if (_cachedAssets != null) return _cachedAssets!;
    
    // マニフェストを読み込み
    final manifestJson = await rootBundle.loadString(_manifestPath);
    final manifest = jsonDecode(manifestJson) as Map<String, dynamic>;
    
    final assetsJson = manifest['assets'] as List<dynamic>;
    var assets = assetsJson
        .map((json) => Asset.fromJson(json as Map<String, dynamic>))
        .toList();
    
    // お気に入り・使用回数を反映
    assets = await _applyUserData(assets);
    
    _cachedAssets = assets;
    return assets;
  }

  /// カテゴリでフィルタ
  Future<List<Asset>> getAssetsByCategory(AssetCategory category) async {
    final assets = await getAllAssets();
    return assets.where((a) => a.category == category).toList();
  }

  /// キーワード検索
  Future<List<Asset>> searchAssets(String keyword) async {
    final assets = await getAllAssets();
    final lowerKeyword = keyword.toLowerCase();
    
    return assets.where((a) {
      return a.name.toLowerCase().contains(lowerKeyword) ||
          (a.description?.toLowerCase().contains(lowerKeyword) ?? false) ||
          a.tags.any((t) => t.toLowerCase().contains(lowerKeyword));
    }).toList();
  }

  /// お気に入りアセットを取得
  Future<List<Asset>> getFavoriteAssets() async {
    final assets = await getAllAssets();
    return assets.where((a) => a.isFavorite).toList();
  }

  /// 最近使ったアセットを取得
  Future<List<Asset>> getRecentAssets({int limit = 10}) async {
    final assets = await getAllAssets();
    final sorted = assets.toList()
      ..sort((a, b) => b.usageCount.compareTo(a.usageCount));
    return sorted.take(limit).toList();
  }

  /// お気に入りを切り替え
  Future<void> toggleFavorite(String assetId) async {
    final favorites = _getFavorites();
    if (favorites.contains(assetId)) {
      favorites.remove(assetId);
    } else {
      favorites.add(assetId);
    }
    await _prefs.setStringList(_userFavoritesKey, favorites);
    
    // キャッシュを更新
    if (_cachedAssets != null) {
      final index = _cachedAssets!.indexWhere((a) => a.id == assetId);
      if (index != -1) {
        _cachedAssets![index] = _cachedAssets![index].copyWith(
          isFavorite: favorites.contains(assetId),
        );
      }
    }
  }

  /// 使用回数をインクリメント
  Future<void> incrementUsage(String assetId) async {
    final usage = _getUsageMap();
    usage[assetId] = (usage[assetId] ?? 0) + 1;
    await _prefs.setString(_userUsageKey, jsonEncode(usage));
    
    // キャッシュを更新
    if (_cachedAssets != null) {
      final index = _cachedAssets!.indexWhere((a) => a.id == assetId);
      if (index != -1) {
        _cachedAssets![index] = _cachedAssets![index].copyWith(
          usageCount: usage[assetId]!,
        );
      }
    }
  }

  /// アセットのモデルパスを取得（フルパス）
  String getModelFullPath(Asset asset) {
    return 'assets/models/${asset.modelPath}';
  }

  /// アセットのサムネイルパスを取得（フルパス）
  String? getThumbnailFullPath(Asset asset) {
    if (asset.thumbnailPath == null) return null;
    return 'assets/models/${asset.thumbnailPath}';
  }

  // プライベートメソッド

  Future<List<Asset>> _applyUserData(List<Asset> assets) async {
    final favorites = _getFavorites();
    final usage = _getUsageMap();
    
    return assets.map((a) => a.copyWith(
      isFavorite: favorites.contains(a.id),
      usageCount: usage[a.id] ?? 0,
    )).toList();
  }

  List<String> _getFavorites() {
    return _prefs.getStringList(_userFavoritesKey) ?? [];
  }

  Map<String, int> _getUsageMap() {
    final json = _prefs.getString(_userUsageKey);
    if (json == null) return {};
    return Map<String, int>.from(jsonDecode(json) as Map);
  }

  void clearCache() {
    _cachedAssets = null;
  }
}
```

### 5. アセットパレットUI

```dart
// lib/presentation/widgets/asset_palette.dart

import 'package:flutter/material.dart';

/// アセットパレット
class AssetPalette extends ConsumerStatefulWidget {
  final Function(Asset) onAssetSelected;

  const AssetPalette({
    super.key,
    required this.onAssetSelected,
  });

  @override
  ConsumerState<AssetPalette> createState() => _AssetPaletteState();
}

class _AssetPaletteState extends ConsumerState<AssetPalette> 
    with SingleTickerProviderStateMixin {
  late TabController _tabController;
  String _searchQuery = '';
  AssetCategory? _selectedCategory;

  @override
  void initState() {
    super.initState();
    _tabController = TabController(length: 3, vsync: this);
  }

  @override
  void dispose() {
    _tabController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        // 検索バー
        _buildSearchBar(),
        
        // タブバー
        TabBar(
          controller: _tabController,
          tabs: const [
            Tab(text: 'カテゴリ'),
            Tab(text: 'お気に入り'),
            Tab(text: '最近使用'),
          ],
        ),
        
        // タブコンテンツ
        Expanded(
          child: TabBarView(
            controller: _tabController,
            children: [
              _buildCategoryView(),
              _buildFavoritesView(),
              _buildRecentView(),
            ],
          ),
        ),
      ],
    );
  }

  Widget _buildSearchBar() {
    return Padding(
      padding: const EdgeInsets.all(8),
      child: TextField(
        decoration: InputDecoration(
          hintText: 'アセットを検索...',
          prefixIcon: const Icon(Icons.search),
          border: OutlineInputBorder(
            borderRadius: BorderRadius.circular(8),
          ),
          isDense: true,
          suffixIcon: _searchQuery.isNotEmpty
              ? IconButton(
                  icon: const Icon(Icons.clear),
                  onPressed: () {
                    setState(() => _searchQuery = '');
                  },
                )
              : null,
        ),
        onChanged: (value) {
          setState(() => _searchQuery = value);
        },
      ),
    );
  }

  Widget _buildCategoryView() {
    if (_searchQuery.isNotEmpty) {
      return _buildSearchResults();
    }
    
    if (_selectedCategory != null) {
      return _buildCategoryAssets(_selectedCategory!);
    }
    
    return _buildCategoryList();
  }

  Widget _buildCategoryList() {
    return ListView.builder(
      itemCount: AssetCategory.values.length,
      itemBuilder: (context, index) {
        final category = AssetCategory.values[index];
        return ListTile(
          leading: Icon(category.icon),
          title: Text(category.displayName),
          trailing: const Icon(Icons.chevron_right),
          onTap: () {
            setState(() => _selectedCategory = category);
          },
        );
      },
    );
  }

  Widget _buildCategoryAssets(AssetCategory category) {
    return Column(
      children: [
        // 戻るヘッダ
        ListTile(
          leading: const Icon(Icons.arrow_back),
          title: Text(category.displayName),
          onTap: () {
            setState(() => _selectedCategory = null);
          },
        ),
        const Divider(height: 1),
        // アセットグリッド
        Expanded(
          child: FutureBuilder<List<Asset>>(
            future: ref.read(assetRepositoryProvider)
                .getAssetsByCategory(category),
            builder: (context, snapshot) {
              if (snapshot.hasData) {
                return _buildAssetGrid(snapshot.data!);
              }
              return const Center(child: CircularProgressIndicator());
            },
          ),
        ),
      ],
    );
  }

  Widget _buildSearchResults() {
    return FutureBuilder<List<Asset>>(
      future: ref.read(assetRepositoryProvider).searchAssets(_searchQuery),
      builder: (context, snapshot) {
        if (snapshot.hasData) {
          if (snapshot.data!.isEmpty) {
            return const Center(
              child: Text('該当するアセットがありません'),
            );
          }
          return _buildAssetGrid(snapshot.data!);
        }
        return const Center(child: CircularProgressIndicator());
      },
    );
  }

  Widget _buildFavoritesView() {
    return FutureBuilder<List<Asset>>(
      future: ref.read(assetRepositoryProvider).getFavoriteAssets(),
      builder: (context, snapshot) {
        if (snapshot.hasData) {
          if (snapshot.data!.isEmpty) {
            return const Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(Icons.star_border, size: 48, color: Colors.grey),
                  SizedBox(height: 8),
                  Text('お気に入りがありません'),
                  Text('ハートをタップして追加してください',
                      style: TextStyle(color: Colors.grey)),
                ],
              ),
            );
          }
          return _buildAssetGrid(snapshot.data!);
        }
        return const Center(child: CircularProgressIndicator());
      },
    );
  }

  Widget _buildRecentView() {
    return FutureBuilder<List<Asset>>(
      future: ref.read(assetRepositoryProvider).getRecentAssets(),
      builder: (context, snapshot) {
        if (snapshot.hasData) {
          if (snapshot.data!.isEmpty) {
            return const Center(
              child: Text('最近使用したアセットがありません'),
            );
          }
          return _buildAssetGrid(snapshot.data!);
        }
        return const Center(child: CircularProgressIndicator());
      },
    );
  }

  Widget _buildAssetGrid(List<Asset> assets) {
    return GridView.builder(
      padding: const EdgeInsets.all(8),
      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
        crossAxisCount: 2,
        childAspectRatio: 1,
        crossAxisSpacing: 8,
        mainAxisSpacing: 8,
      ),
      itemCount: assets.length,
      itemBuilder: (context, index) {
        return _AssetCard(
          asset: assets[index],
          onTap: () => widget.onAssetSelected(assets[index]),
          onFavoriteToggle: () {
            ref.read(assetRepositoryProvider)
                .toggleFavorite(assets[index].id);
            setState(() {}); // 再描画
          },
        );
      },
    );
  }
}

/// アセットカード
class _AssetCard extends StatelessWidget {
  final Asset asset;
  final VoidCallback onTap;
  final VoidCallback onFavoriteToggle;

  const _AssetCard({
    required this.asset,
    required this.onTap,
    required this.onFavoriteToggle,
  });

  @override
  Widget build(BuildContext context) {
    return Card(
      clipBehavior: Clip.antiAlias,
      child: InkWell(
        onTap: onTap,
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.stretch,
          children: [
            // サムネイル
            Expanded(
              child: Stack(
                fit: StackFit.expand,
                children: [
                  if (asset.thumbnailPath != null)
                    Image.asset(
                      'assets/models/${asset.thumbnailPath}',
                      fit: BoxFit.cover,
                      errorBuilder: (_, __, ___) => _buildPlaceholder(),
                    )
                  else
                    _buildPlaceholder(),
                  
                  // お気に入りボタン
                  Positioned(
                    top: 4,
                    right: 4,
                    child: IconButton(
                      icon: Icon(
                        asset.isFavorite ? Icons.favorite : Icons.favorite_border,
                        color: asset.isFavorite ? Colors.red : Colors.white,
                      ),
                      onPressed: onFavoriteToggle,
                      style: IconButton.styleFrom(
                        backgroundColor: Colors.black38,
                      ),
                    ),
                  ),
                ],
              ),
            ),
            
            // 情報
            Padding(
              padding: const EdgeInsets.all(8),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    asset.name,
                    style: const TextStyle(fontWeight: FontWeight.bold),
                    maxLines: 1,
                    overflow: TextOverflow.ellipsis,
                  ),
                  Text(
                    '${asset.dimensions.width}×${asset.dimensions.depth}×${asset.dimensions.height}m',
                    style: const TextStyle(fontSize: 12, color: Colors.grey),
                  ),
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildPlaceholder() {
    return Container(
      color: Colors.grey[300],
      child: Icon(
        asset.category.icon,
        size: 48,
        color: Colors.grey[600],
      ),
    );
  }
}
```

### 6. アセットプレビューダイアログ

```dart
// lib/presentation/widgets/asset_preview_dialog.dart

/// アセット詳細プレビューダイアログ
class AssetPreviewDialog extends StatelessWidget {
  final Asset asset;
  final VoidCallback onPlace;

  const AssetPreviewDialog({
    super.key,
    required this.asset,
    required this.onPlace,
  });

  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      title: Text(asset.name),
      content: SizedBox(
        width: 400,
        child: Column(
          mainAxisSize: MainAxisSize.min,
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            // 3Dプレビュー（将来実装）または画像
            AspectRatio(
              aspectRatio: 16 / 9,
              child: Container(
                color: Colors.grey[200],
                child: asset.thumbnailPath != null
                    ? Image.asset(
                        'assets/models/${asset.thumbnailPath}',
                        fit: BoxFit.contain,
                      )
                    : Icon(asset.category.icon, size: 64),
              ),
            ),
            const SizedBox(height: 16),
            
            // 説明
            if (asset.description != null) ...[
              Text(asset.description!),
              const SizedBox(height: 8),
            ],
            
            // サイズ情報
            _buildInfoRow('サイズ', 
                '${asset.dimensions.width} × ${asset.dimensions.depth} × ${asset.dimensions.height} m'),
            _buildInfoRow('床面積', 
                '${asset.dimensions.floorArea.toStringAsFixed(2)} m²'),
            _buildInfoRow('カテゴリ', asset.category.displayName),
            
            // タグ
            if (asset.tags.isNotEmpty) ...[
              const SizedBox(height: 8),
              Wrap(
                spacing: 4,
                children: asset.tags.map((tag) => Chip(
                  label: Text(tag, style: const TextStyle(fontSize: 12)),
                  materialTapTargetSize: MaterialTapTargetSize.shrinkWrap,
                )).toList(),
              ),
            ],
          ],
        ),
      ),
      actions: [
        TextButton(
          onPressed: () => Navigator.pop(context),
          child: const Text('閉じる'),
        ),
        ElevatedButton.icon(
          onPressed: () {
            Navigator.pop(context);
            onPlace();
          },
          icon: const Icon(Icons.add_location),
          label: const Text('配置'),
        ),
      ],
    );
  }

  Widget _buildInfoRow(String label, String value) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 2),
      child: Row(
        children: [
          SizedBox(
            width: 80,
            child: Text(label, style: const TextStyle(color: Colors.grey)),
          ),
          Expanded(child: Text(value)),
        ],
      ),
    );
  }
}
```

## 技術的な考慮事項

1. **3Dモデル形式**
   - GLB形式を標準とする（テクスチャ埋め込み）
   - ファイルサイズの最適化（Draco圧縮推奨）

2. **サムネイル生成**
   - 初回起動時に自動生成、またはビルド時に事前生成
   - 適切なサイズ（256x256推奨）

3. **アセットの追加**
   - 将来的にユーザーがカスタムアセットを追加できるようにする
   - GLB/glTFファイルのドラッグ&ドロップ対応

4. **パフォーマンス**
   - サムネイルの遅延読み込み
   - アセットリストのキャッシュ

## 成果物・完了条件

- [ ] assets_manifest.json が正しく読み込める
- [ ] カテゴリ別のアセット一覧が表示される
- [ ] キーワード検索が動作する
- [ ] お気に入り機能が動作する
- [ ] 最近使用したアセット一覧が表示される
- [ ] アセットカードにサムネイルが表示される
- [ ] アセット詳細ダイアログが表示される

## 次工程への引き継ぎ事項

- アセット選択後の配置操作は工程09で実装
- 配置時に使用回数をインクリメント
